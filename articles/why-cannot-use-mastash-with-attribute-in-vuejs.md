---
title: "なぜVue.jsのHTMLプロパティではマスタッシュ構文(これ→ {{}} )が使えないのか？"
emoji: "⛔"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["vue", "仕様"]
published: false
---
## 事の経緯
こんにちは！[てぃむ でいく@timdaik](https://x.com/timdaik)です。

私はJavaScript初心者の友達と開発するためにVue.jsを学び始めました。
モダンJavaScriptフレームワークの中でも初心者にとってとっつきやすいと言われていますし、日本語のドキュメントが充実しているので今回選びました。

Vueの学習を進めている中で、マスタッシュ構文という存在を知りました。
いや、正しくは存在を知っていたのですが、名前を知らなかったのです。

```javascript:Header.jsx
const Header = () => {
    const text = "This is a pen.";
    return (
        <p>
            {{ text }}
        </p>
    )
}
```

これはReactのコードですが、`{{ text }}`のように変数を`{{}}`で埋め込む記法を**マスタッシュ構文**というそうです。
Vue でも要素のタグに挟まれた部分では、同じようにマスタッシュ構文を使って変数を埋め込めます。

### 【学習】React / Vue のHTMLプロパティに変数指定するときの違い
しかし問題なのが、HTMLの属性部分に変数を代入するときです。
属性としては`class`, `id` などがありますが、Vue ではこの記法に癖があると思います。

ReactなどJSX構文を使用すると、以下のように記述できます。

```javascript:SetAttribute.jsx
// ~~~
<p id={dynamicVar}></p>
// ~~~
```

対してVueの場合、以下のように`v-bind`記法を用います。

```javascript:SetAttrivute.vue
// ~~~
<p v-bind:class="dynamicVar"></p>
<p :class="dynamicVar"></p> // このように省略することも可能
// ~~~
```

コード中にもあるように`:class`のように`v-bind`を省略できます。

### Vueの`v-bind`は必要ないのではないか説
自分はもともとReactユーザなのでこの視点から意見すると、Vueの`v-bind`記法は不要な気がします。

ReactのHTML属性は、**基本的にHTMLの属性名と一致しています**。
対してVueでは、`v-bind`という独自の記法を用いており、（本当に僅かですが）学習コストになっている気がします。

ただ、ここで真に主張したいのは記法の違いによるコストについてではありません。
細かい記法1つ1つを、フレームワーク独自のモノに置き替えることに反対しているのです。

「若干の違いだから覚えちゃえばよくない？」ではなく、一つの標準にできるだけ沿っているシンプルさが、フレームワーク含めたプログラムには必要だと思います。
ReactもVueも結局はHTMLに変換されずJavaScriptになるんだから関係が無いような気がしますが、フレームワークの仕様として、よりWeb標準に沿っているほうが安心だと思います。
（ReactのclassNameと同様）

また、変数をプロパティに指定する際は、通常の「""」ではなく、「{}」を使用しています。
シンタックスハイライトと相まって、このため**プロパティに指定されているのが、固定値なのか、変数なのか直ぐに判別できます**。

React(JSX)の記法が優れている点をまとめると、
1. HTML属性名がHTMLとほとんど一緒のため、Vueと比べてWeb標準に近い（賛否両論）
2. プロパティ値の種類（固定値 or 変数）が認識しやすい

### 【コラム】イベントリスナは`v-on`
HTML属性に変数を指定する際は`v-bind:class`又は`:class`を使う必要があるのは分かりました。
Vueで定義したメソッドをイベントリスナで発火したい時にはどうするでしょうか？

そう、`v-bind`と同じように`v-on`を使えば良いのです。

```javascript
<button v-on:click="someMethod">Click here</button>
<button @click="someMethod">Click here</button> // 同じように省略することが出来る
```

イベントリスナの場合、省略するときは`@click`のように書くことができます。

他にも`v-model`や`v-if`などテンプレート構文はたくさんありますので、これらがまとめられている以下の記事を見ると全体像を把握できそうです。

https://qiita.com/mackeyTA/items/ddf102a48da65c70162f

## 本題 なぜHTMLのプロパティにマスタッシュ構文が使えないのか？
Reactユーザの目線でVueの愚痴をこぼしてしまいましたが、別に批判したいのではなく、できればマスタッシュ構文が使えるようになってくれればなあと思って記事を書いてます。
自己中ですが、自分が使いやすい形になってくれればうれしいのです。

さて、きっとVueコミュニティでも同じ意見を持つ同士がいるはずですが、なんでまだマスタッシュ構文に対応していないのでしょうか？

### 憶測 Reactの`className`と似たような理由ではないか？
記事を書いている途中に思ったのが、Reactの`className`を`class`に戻せない問題と同じではないか、ということです。

ReactではHTMLの`class`の代わりに`className`を指定しなければならないルールがあります。
昔Reactが作られたころにはHTMLの`class`属性を追加する際に、JavaScriptでクラス構文に使う予約語の`class`と競合してしまう危険性がありました。このことからわざわざ`className`という名前に変えた、と聞いたことがあります。

そして時が経ってから、先の競合は問題無いと分かり、`className`を`class`に戻そう運動があったといいます。
しかし、この時にはすでに`className`が浸透していたため、移行コストの問題から諦めた説が有力です。

参考に以下の記事を読むともっと深い訳や、議論の歴史を感じれて楽しいですが、脱線しそうなので別の記事にまとめます。

https://medium.com/@rohitdeshpande9922/why-react-uses-classname-rather-than-class-1d656317995d

ともあれ、Vueの仕様としてなんらかの不具合があるために、当初は独自の構文を使用していた可能性があり、今更戻そうにもメンテ側のコストが高すぎる問題があるのかもしれません。

### 真実 XXX
結局XXXでした。
